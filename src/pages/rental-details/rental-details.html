<ion-header>
  <ion-navbar>
    <ion-title>Rent</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <form #rentalForm="ngForm">
		<ion-list>
      <ion-list-header>Rental Details</ion-list-header>

      <ion-item>
				<ion-label floating color="primary">Return Date</ion-label>
        <!-- Displays date in the following format: Sun 01 Jan, 2017 -->
        <ion-datetime displayFormat="DDD D MMM, YYYY" pickerFormat="DD MMM YYYY" [ngModel]="details.endDate"  name="endDate" #date="ngModel" required>
        </ion-datetime>
			</ion-item>
      <ion-item>
        <ion-label floating color="primary">Notes</ion-label>
        <ion-textarea [ngModel]="details.notes" name="notes" #notes="ngModel"></ion-textarea>
      </ion-item>

      <ion-list-header>Scanned Items</ion-list-header>

      <ion-item *ngFor="let item of (items | async).rentals | mapToIterable">
        {{ item.brand }} {{ item.model }}
      </ion-item>
    </ion-list>
	</form>
</ion-content>

<ion-footer padding>
  <button ion-button (click)="onRent(rentalForm)" block [disabled]="!rentalForm.valid">
    Rent
  </button>
</ion-footer>
